<p>Por favor escriba los criterios de busqueda. Por defecto se mostrarán los últimos 50 empleados actualizados.</p>
<p><input type="text" ng-model='vm.buscado' placeholder="Introduzca el texto a buscar." ng-change='vm.buscarData()' class="form-control input-md"></p>
<p ng-show='vm.buscado!=""'>A continuación se presentan los resultados.</p>
<div  ng-show='vm.buscando'><p><h4><em>Cargando información</em></h4></p></div>
<div class="table-responsive desplazable-grande">
	<button class="btn btn-xs btn-info" ng-click='vm.getDatas()'>Actualizar tabla.</button>
	<table class="table table-stripped">
		<tr>
			<th>Acción</th>
                  <th>Contrato</th>
			<th>Apellido</th>
			<th>Nombre</th>
                  <th>Identificación</th>
			<th>Salario</th>
                  <th>Ult. actualiz.</th>
		</tr>
	     <tr ng-repeat='dt in vm.dts.data'>
		    <td><button type="button" class="btn btn-primary btn-xs" ng-click='vm.selecPanel($index)'>Ver mas</button></td>
		    <td>{{ dt.id }}</td>
		    <td>{{ dt.users.lastname }}</td>
                <td>{{ dt.users.name }}</td>
                <td>{{ dt.users.identificacion }}</td>
                <td>{{ dt.salario }}</td>
		    <td>{{ dt.updated_at }}</td>
	     </tr>
	</table>
</div>

<!-- PANELES -->
<div ng-repeat='dt in vm.dts.data' class="panel panel-primary" ng-show='vm.esPanelSelec($index)'>
	<div class="panel-heading">
      	<h4 class="panel-title">Modificación de <em>{{ dt.users.name | uppercase }} {{ dt.users.lastname | uppercase }}</em></h4>
      </div>
	<div class="panel-body">
		<p>Puede cambiar los valores de la propiedad en los siguientes campos.</p>
            <empleado existente='dt.id'></empleado>
      </div>
      <div class="panel-footer">
      	<button type="button" class="btn btn-primary" ng-click='vm.cerrarPanel()'>Cerrar</button>
            <a class="btn btn-danger" ng-click='vm.delData($index)'>Eliminar empleado.</a>
      </div>				
</div>